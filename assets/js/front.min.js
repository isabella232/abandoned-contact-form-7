!function(n){var e={},a=!1,o=!1,t={init:function(){var e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0;n(document).on("input",".wpcf7-form :input",t.prepData),n(document).on("change",".wpcf7-form input[type=radio]",t.prepData),n(document).on("change",".wpcf7-form input[type=checkbox]",t.prepData),n(document).on("change",".wpcf7-form input[type=file]",t.prepData),window.addEventListener("load",function(){inputs=n(".wpcf7-form :input"),document.body.addEventListener("touchstart",function(e){n(document).on("input",".wpcf7-form :input",t.prepData),n(document).on("change",".wpcf7-form input[type=radio]",t.prepData),n(document).on("change",".wpcf7-form input[type=checkbox]",t.prepData),n(document).on("change",".wpcf7-form input[type=file]",t.prepData)},!1)},!1),n(document).on("mouseleave",this.abandonMouse),e?(n(document).on("touchend",this.abandonMouse),n(document).on("click",this.abandonClick)):n(document).on("mousedown",this.abandonClick)},prepData:function(o){var c=n(o.target).closest(".wpcf7-form");e=c.serializeArray(),a=e,t.debug("Preping data")},sendData:function(){if(a&&!o){o=!0,setTimeout(function(){o=!1},2e3),t.debug("Sending");var e={action:"wpcf7forms_abandoned",page_url:window.location.href,recover:wpcf7forms_abandoned.recover,forms:a};n.ajax({type:"POST",dataType:"json",url:wpcf7forms_abandoned.ajaxurl,data:e,success:function(n){}}),e={},a=!1}},abandonMouse:function(n){t.debug("Mouse abandoned"),t.sendData()},abandonClick:function(n){for(var e=n.srcElement||n.target;e&&(void 0===e.tagName||"a"!==e.tagName.toLowerCase()||!e.href);)e=e.parentNode;if(e&&e.href){t.debug("Click abandoned");var a=e.href,o="internal";if("mailto"===e.protocol?o="mailto":-1===a.indexOf(wpcf7forms_abandoned.home_url)&&(o="external"),("external"===o||"internal"===o)&&!a.match(/^javascript\:/i)){var c=!(!e.target||e.target.match(/^_(self|parent|top)$/i))&&e.target;(n.ctrlKey||n.shiftKey||n.metaKey||2===n.which)&&(c="_blank"),c?t.sendData():(n.preventDefault?n.preventDefault():n.returnValue=!1,t.sendData(),window.location.href=a)}}},debug:function(n){window.location.hash&&"#wpformsfadebug"===window.location.hash&&console.log("WPForms FA: "+n)}};t.init()}(jQuery),function(n){"use strict";document.addEventListener("wpcf7mailsent",function(e){var a={action:"remove_abandoned",cf7_id:e.detail.contactFormId};n.ajax({type:"POST",dataType:"json",url:wpcf7forms_abandoned.ajaxurl,data:a,success:function(n){}})},!1)}(jQuery);